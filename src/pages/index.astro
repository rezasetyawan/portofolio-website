---
import Layout from "../layouts/Layout.astro";
import { Button } from "@/components/ui/button";

import { getCollection } from "astro:content";

const posts = (await getCollection("portofolio")).sort(
  (a, b) => a.data.pubDate.valueOf() - b.data.pubDate.valueOf(),
);
---

<Layout title="Home">
  <main class="mb-96">
    <section class="mx-5 mt-8 sm:flex sm:items-center lg:mx-40 lg:mt-16">
      <div class="text-white sm:w-3/5">
        <h2 class="text-3xl font-semibold lg:text-4xl">
          Your vision, my skills - let's build something <span
            class="text-yellow-500">awesome</span
          > that works for you
        </h2>
        <p class="mt-4 tracking-wide">
          Hi, thank you for visiting my portfolio, don't hesitate to explore,
          scroll now! or need help? contact me by looking at the bottom there is
          my contact.
        </p>
        <a href="/portofolio"
          ><Button className="mt-4 rounded-full lg:mt-8"
            >See My Portofolio</Button
          ></a
        >
      </div>
      <div class="mt-8 max-sm:hidden sm:w-2/5 lg:mt-0">
        <div
          class="flex w-full flex-col items-center justify-center text-white"
        >
          <img
            src="/gwejh.jpg"
            alt="Reza Setyawan Picture"
            class="block aspect-square h-60 w-60 rounded-full border border-white object-cover p-1"
          />
          <h2 class="mt-3 font-semibold">Reza Setyawan</h2>
          <p class="text-center text-sm">
            Fullstack Web Developer | Web Development Enthusiast
          </p>
        </div>
      </div>
    </section>

    <section class="mx-5 mt-10 lg:mx-20 lg:mt-20">
      <h2 class="text-center text-3xl font-semibold text-white">My Project</h2>
      <div
        class="mt-6 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:mt-12 lg:grid-cols-3"
      >
        {
          posts.map((post) => (
            <a
              href={`/portofolio/${post.slug}/`}
              class="block rounded-md border border-green-200/30 bg-[#191A19] p-2 text-white shadow-sm shadow-green-200/10"
            >
              <img src={post.data.heroImage} class="rounded-sm" alt="project" />
              <h2 class="mb-1 mt-2 text-center text-lg font-semibold">
                Learningspace
              </h2>
              <p class="text-base">
                Lorem ipsum dolor sit amet, consectetur adipisicing elit
              </p>
              <div class="flex justify-end">
                <Button
                  variant="link"
                  className="m-0 h-auto w-auto p-0 font-normal"
                >
                  see detail
                </Button>
              </div>
            </a>
          ))
        }
      </div>

      <div class="mt-10 flex justify-center">
        <a href="/portofolio"
          ><Button className="rounded-full" variant="secondary"
            >Show More</Button
          ></a
        >
      </div>
    </section>
  </main>
</Layout>
